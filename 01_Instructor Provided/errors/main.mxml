<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" layout="vertical" initialize="mybooks.send()">

<mx:Script>
	<![CDATA[
		import mx.controls.*;
		import mx.rpc.events.FaultEvent;
		import mx.rpc.events.ResultEvent;
		import mx.collections.ArrayCollection;
		[Bindable]
		private var wData:ArrayCollection;
		private function onResult(event:ResultEvent):void
		{
		wData = event.result.books.stock;
		}
		private function faultHandler(evt:FaultEvent):void{
	//		var faultMessage:String="Error generated by" + evt.target;
	//		var faultMessage:String="Error generated by" + evt.message;
			var faultMessage:String="Did not find the file requested";
			Alert.show(faultMessage,"Error....!!!");
			
		}
	]]>
</mx:Script>

<mx:HTTPService id="mybooks" url="data/books1.xml" result="{onResult(event)}" fault="faultHandler(event)"/>

	<mx:DataGrid dataProvider="{wData}" x="148" y="52" width="550"/>
</mx:Application>